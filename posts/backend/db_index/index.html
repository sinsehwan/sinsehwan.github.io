<!DOCTYPE html>
<html lang="ko-kr"
  dir="ltr">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">








    






<link rel="icon" type="image/ico" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="192x192" href="http://localhost:1313/android-chrome-192x192.png">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/apple-touch-icon.png">

<meta name="description" content="B&#43;Tree로 알아보는 DB Index의 특징 - backend"/>


<meta name="fediverse:creator" content="@username@instance.url">


<title>
    
    DB Index 장단점 | Sehwan&#39;s Dev Retrospect
    
</title>

<link rel="canonical" href="http://localhost:1313/posts/backend/db_index/"/>

<meta property="og:url" content="http://localhost:1313/posts/backend/db_index/">
  <meta property="og:site_name" content="Sehwan&#39;s Dev Retrospect">
  <meta property="og:title" content="DB Index 장단점">
  <meta property="og:description" content="B&#43;Tree로 알아보는 DB Index의 특징 - backend">
  <meta property="og:locale" content="ko_kr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-11-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-11-20T00:00:00+00:00">
    <meta property="article:tag" content="Backend">
    <meta property="article:tag" content="Java">












<link rel="stylesheet" href="/assets/combined.min.fc5a44152c30c21bef13cba5205c8eddd1f54213723dfec49cb38631ef05a293.css" media="all">











    




</head>







<body class="dark">

  <div class="content">
    <header>
      

<div class="header">

    

    <h1 class="header-title">
        <a href="http://localhost:1313/">Sehwan&#39;s Dev Retrospect</a>
    </h1>

    <div class="header-menu">
        

        
        

        <p
            class="small ">
            <a href="/" >
                /home
            </a>
        </p>
        

        <p
            class="small ">
            <a href="/posts" >
                /posts
            </a>
        </p>
        

        <p
            class="small ">
            <a href="/tags/" >
                /tags
            </a>
        </p>
        

        <p
            class="small ">
            <a href="/about" >
                /about
            </a>
        </p>
        
        
    </div>

    

</div>

    </header>

    <main class="main">
      




<div class="breadcrumbs"><a href="/">Home</a><span class="breadcrumbs-separator">/</span><a href="/posts/">Posts</a><span class="breadcrumbs-separator">/</span>
        <a href="/posts/backend/db_index/">DB Index 장단점</a></div>


<div  class="autonumber" >
  <article>
    <header class="single-intro-container">
        
        <h1 class="single-title">DB Index 장단점</h1>
        <p class="single-summary">B+Tree로 알아보는 DB Index의 특징</p>
        
        <div class="single-subsummary">
          
          <div>
            
            <p class="author">Sin SeHwan </p>
            
            <p class="single-date">
              <time datetime="2025-11-20T00:00:00&#43;00:00">November 20, 2025</time>
              &nbsp; · &nbsp;2 min read
            </p>
          </div>
        </div>
        
    </header>    
        <div class="single-tags"><span>
                  <a href="http://localhost:1313/tags/backend/">#Backend</a>
                </span><span>
                  <a href="http://localhost:1313/tags/java/">#Java</a>
                </span>
        </div>
      <aside class="toc">
        <p><strong>Table of contents</strong></p>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#인덱스의-기본-개념과-자료구조">인덱스의 기본 개념과 자료구조</a>
      <ul>
        <li><a href="#데이터베이스는-어떻게-자료를-찾을까">데이터베이스는 어떻게 자료를 찾을까?</a></li>
        <li><a href="#인덱스index">인덱스(Index)</a></li>
        <li><a href="#인덱스-자료구조">인덱스 자료구조</a></li>
        <li><a href="#인덱스를-설정하면-좋은-컬럼">인덱스를 설정하면 좋은 컬럼</a></li>
        <li><a href="#인덱스의-단점">인덱스의 단점</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </aside>
    
    <div class="single-content">
      <h1 class="heading" id="db-인덱스">
  DB 인덱스
  <a class="anchor" href="#db-%ec%9d%b8%eb%8d%b1%ec%8a%a4">#</a>
</h1>
<h2 class="heading" id="인덱스의-기본-개념과-자료구조">
  인덱스의 기본 개념과 자료구조
  <a class="anchor" href="#%ec%9d%b8%eb%8d%b1%ec%8a%a4%ec%9d%98-%ea%b8%b0%eb%b3%b8-%ea%b0%9c%eb%85%90%ea%b3%bc-%ec%9e%90%eb%a3%8c%ea%b5%ac%ec%a1%b0">#</a>
</h2>
<h3 class="heading" id="데이터베이스는-어떻게-자료를-찾을까">
  데이터베이스는 어떻게 자료를 찾을까?
  <a class="anchor" href="#%eb%8d%b0%ec%9d%b4%ed%84%b0%eb%b2%a0%ec%9d%b4%ec%8a%a4%eb%8a%94-%ec%96%b4%eb%96%bb%ea%b2%8c-%ec%9e%90%eb%a3%8c%eb%a5%bc-%ec%b0%be%ec%9d%84%ea%b9%8c">#</a>
</h3>
<blockquote>
<p>DB는 실제 하드디스크에 저장되는데, 파일 기반 접근은 메모리 기반 접근보다 시간이 매우 오래 걸립니다.</p></blockquote>
<ul>
<li>DB에서는 Insert된 자료들을 어떻게 효율적으로 찾을 수 있을까요?</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#6272a4">-- 이메일 기반 사용자 조회
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> user_account 
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">WHERE</span> email <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;test@example.com&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">-- ID가 100번부터 200번 사이인 사용자 조회
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> user_account 
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">WHERE</span> id <span style="color:#ff79c6">BETWEEN</span> <span style="color:#bd93f9">100</span> <span style="color:#ff79c6">AND</span> <span style="color:#bd93f9">200</span>;
</span></span></code></pre></div><ul>
<li>자료가 100만개라면 SELECT 쿼리 수행 시 모든 행을  전부 찾아봐야 할까요?</li>
</ul>
<blockquote>
<p>인덱스를 통해 데이터의 위치를 찾고, 최소한의 파일 접근을 통해 DB에서 데이터를 조회합니다.</p></blockquote>
<h3 class="heading" id="인덱스index">
  인덱스(Index)
  <a class="anchor" href="#%ec%9d%b8%eb%8d%b1%ec%8a%a4index">#</a>
</h3>
<ul>
<li>책의 목차와 비슷한 역할</li>
<li>데이터를 정렬된 상태로 유지해서 O(log N)의 시간 복잡도로 탐색 가능하게 함</li>
</ul>
<h4 class="heading" id="인덱스-예시-코드">
  인덱스 예시 코드
  <a class="anchor" href="#%ec%9d%b8%eb%8d%b1%ec%8a%a4-%ec%98%88%ec%8b%9c-%ec%bd%94%eb%93%9c">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SQL" data-lang="SQL"><span style="display:flex;"><span><span style="color:#6272a4">-- 회원 정보
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">CREATE</span> <span style="color:#ff79c6">TABLE</span> user_account (
</span></span><span style="display:flex;"><span>    id <span style="color:#8be9fd;font-style:italic">BIGINT</span> UNSIGNED <span style="color:#ff79c6">NOT</span> <span style="color:#ff79c6">NULL</span> AUTO_INCREMENT,  <span style="color:#6272a4">-- PK (AUTO_INCREMENT)
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    username <span style="color:#8be9fd;font-style:italic">VARCHAR</span>(<span style="color:#bd93f9">50</span>) <span style="color:#ff79c6">NOT</span> <span style="color:#ff79c6">NULL</span>,               <span style="color:#6272a4">-- 사용자 이름
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    email <span style="color:#8be9fd;font-style:italic">VARCHAR</span>(<span style="color:#bd93f9">100</span>) <span style="color:#ff79c6">NOT</span> <span style="color:#ff79c6">NULL</span>,                 <span style="color:#6272a4">-- 이메일
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    created_at <span style="color:#ff79c6">TIMESTAMP</span> <span style="color:#ff79c6">DEFAULT</span> <span style="color:#ff79c6">CURRENT_TIMESTAMP</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">PRIMARY</span> <span style="color:#ff79c6">KEY</span> (id)
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">-- 이메일 컬럼 인덱스
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">CREATE</span> <span style="color:#ff79c6">INDEX</span> idx_user_email <span style="color:#ff79c6">ON</span> user_account(email);
</span></span></code></pre></div><h3 class="heading" id="인덱스-자료구조">
  인덱스 자료구조
  <a class="anchor" href="#%ec%9d%b8%eb%8d%b1%ec%8a%a4-%ec%9e%90%eb%a3%8c%ea%b5%ac%ec%a1%b0">#</a>
</h3>
<h4 class="heading" id="b-tree">
  B-Tree
  <a class="anchor" href="#b-tree">#</a>
</h4>
<ul>
<li>
<p>모든 페이지는 m개의 자손을 가집니다.</p>
</li>
<li>
<p>Root와 leaf 노드를 제외한 모든 페이지는 최소 m/2개의 자손을 가져야 합니다.</p>
</li>
<li>
<p>모든 노드는 같은 레벨에 존재해야 합니다.</p>
</li>
<li>
<p>데이터를 많이 저장해도 트리의 높이를 매우 낮게 유지할 수 있습니다.</p>
</li>
</ul>
<blockquote>
<p>N개의 키가 있을 때, 트리의 높이 d는 다음과 같습니다</p></blockquote>
<p>











<figure class="">

    <div class="img-container" style="--w: 660; --h: 105;">
        <img loading="lazy" alt="alt text" src="/posts/backend/db_index/images/mathlog.png" width="660" height="105">
    </div>

    
</figure>
</p>
<p>$$N \ge 2 \cdot \lceil m/2 \rceil^{d-1}$$</p>
<p>$$d \le 1 + \log_{\lceil m/2 \rceil}(\frac{N}{2})$$</p>
<p>











<figure class="">

    <div class="img-container" >
        <img loading="lazy" alt="" src="B-Tree.png" >
    </div>

    
</figure>
</p>
<p>만약 차수(m)이 512이고, 키(N)이 100만 개 인 상황에서도 트리의 높이는 4 이하가 됩니다.</p>
<p>즉 100만개의 데이터가 저장된 상황에서도 4번의 디스크 접근으로 원하는 값을 찾을 수 있습니다.</p>
<h4 class="heading" id="btree">
  B+Tree
  <a class="anchor" href="#btree">#</a>
</h4>
<blockquote>
<p>B-Tree에서 몇 가지 규칙이 추가된 형태입니다.</p></blockquote>
<ul>
<li>Internal 노드와 Leaf(말단) 노드로 노드의 역할이 구분됩니다.</li>
<li>말단인 Leaf 노드에만 데이터 레코드를 가리키는 데이터가 저장됩니다.</li>
<li>리프 노드들은 서로 Linked-List로 연결되어 있습니다. 바로 옆 데이터를 조회할 수 있어서 범위 검색 시 유리합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#6272a4">-- ID가 100번부터 200번 사이인 사용자 조회
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">SELECT</span> <span style="color:#ff79c6">*</span> <span style="color:#ff79c6">FROM</span> user_account 
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">WHERE</span> id <span style="color:#ff79c6">BETWEEN</span> <span style="color:#bd93f9">100</span> <span style="color:#ff79c6">AND</span> <span style="color:#bd93f9">200</span>;
</span></span></code></pre></div><p>











<figure class="">

    <div class="img-container" style="--w: 1769; --h: 3686;">
        <img loading="lazy" alt="" src="/posts/backend/db_index/images/B&#43;Tree.png" width="1769" height="3686">
    </div>

    
</figure>
</p>
<h4 class="heading" id="b-tree-btree-특징-비교">
  B-Tree, B+Tree 특징 비교
  <a class="anchor" href="#b-tree-btree-%ed%8a%b9%ec%a7%95-%eb%b9%84%ea%b5%90">#</a>
</h4>

<div class="table-outer">
    <table>
        <thead>
            <tr>
                <th style="text-align: left">비교 항목</th>
                <th style="text-align: left">B-Tree</th>
                <th style="text-align: left">B+Tree</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="text-align: left"><strong>데이터 저장 위치</strong></td>
                <td style="text-align: left">모든 노드 (내부 + 리프)에 데이터 포인터 존재</td>
                <td style="text-align: left">리프 노드에만 데이터 포인터 존재</td>
            </tr>
            <tr>
                <td style="text-align: left"><strong>순차 검색 (Range Scan)</strong></td>
                <td style="text-align: left">트리를 오르락내리락하며 순회해야 함 (비효율적)</td>
                <td style="text-align: left">리프 노드의 Linked List를 통해 선형 탐색 가능 (효율적)</td>
            </tr>
            <tr>
                <td style="text-align: left"><strong>검색 속도</strong></td>
                <td style="text-align: left">루트 노드 ~ 리프 노드 범위에 데이터 포인터가 존재함</td>
                <td style="text-align: left">무조건 리프 노드까지 내려가야 함 (But 경로가 매우 짧음)</td>
            </tr>
        </tbody>
    </table>
</div><blockquote>
<p>일반적으로 데이터베이스의 인덱스는 B+Tree를 통해 구현합니다.</p></blockquote>
<h3 class="heading" id="인덱스를-설정하면-좋은-컬럼">
  인덱스를 설정하면 좋은 컬럼
  <a class="anchor" href="#%ec%9d%b8%eb%8d%b1%ec%8a%a4%eb%a5%bc-%ec%84%a4%ec%a0%95%ed%95%98%eb%a9%b4-%ec%a2%8b%ec%9d%80-%ec%bb%ac%eb%9f%bc">#</a>
</h3>
<ul>
<li>
<p>SELECT 문 수행 시 기준 조건으로 자주 사용되는 컬럼</p>
</li>
<li>
<p>중복이 적은 컬럼 (c.f. 나쁜 예시 : 성별)</p>
</li>
</ul>
<h3 class="heading" id="인덱스의-단점">
  인덱스의 단점
  <a class="anchor" href="#%ec%9d%b8%eb%8d%b1%ec%8a%a4%ec%9d%98-%eb%8b%a8%ec%a0%90">#</a>
</h3>
<p>











<figure class="">

    <div class="img-container" style="--w: 2350; --h: 2122;">
        <img loading="lazy" alt="" src="/posts/backend/db_index/images/insert1.png" width="2350" height="2122">
    </div>

    
</figure>
</p>
<p>











<figure class="">

    <div class="img-container" style="--w: 1342; --h: 2686;">
        <img loading="lazy" alt="" src="/posts/backend/db_index/images/insert2.png" width="1342" height="2686">
    </div>

    
</figure>
</p>
<ul>
<li>삽입, 삭제 시 DB 행(레코드) 외 Index 기반 B+Tree도 함께 업데이트해야 합니다.</li>
</ul>

    </div>
  </article>

  

  

  
  

<div class="single-pagination">
    <hr />

    <div class="flexnowrap">

        <div class="single-pagination-prev">
            
            <div class="single-pagination-container-prev">
                <div class="single-pagination-text">←</div>
                <div class="single-pagination-text">
                    <a href="/posts/backend/%EC%98%81%EC%86%8D%EC%84%B1%EA%B3%84%EC%B8%B5/">
                        영속성 컨텍스트 - 1
                    </a>
                </div>
            </div>
            
        </div>

        <div class="single-pagination-next">
            
            <div class="single-pagination-container-next">
                <div class="single-pagination-text">
                    <a href="/posts/backend/cors_csrf_xss/">
                        CORS, CSRF, XSS
                    </a>
                </div>
                <div class="single-pagination-text">→</div>
            </div>
            
        </div>

    </div>

    <hr />
</div>



  

  

  
  <div class="back-to-top">
    <a href="#top">
      back to top
    </a>
  </div>
  

</div>


    </main>
  </div>

  
  





    




  <footer>
    

    
    





    




    
    <p>Powered by
        <a href="https://gohugo.io/">Hugo</a>
        and
        <a href="https://github.com/tomfran/typo">tomfran/typo</a>
    </p>
    
    
    


  </footer>

  
  <link rel="stylesheet" 
  href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css">
  
<script defer 
  src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script>

<script defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"
  onload="renderMathInElement(document.body);"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false }
      ]
    });
  });
</script>
  
</body>

<script src="/js/theme-switch.js"></script>
<script defer src="/js/copy-code.js"></script>
</html>
